# non-parallel makefile

CC := mpicc -g -O3 -march=native

CFLAGS := -D MPI -D NHIGGS=1 -D SINGLET

LIBS := -lm

OBJECTS := main.o generic/mersenne.o layout.o comms.o alloc.o init.o parameters.o su2u1.o staples.o measure.o \
        update.o checkpoint.o metropolis.o heatbath.o overrelax.o multicanonical.o \
        smearing.o blocking.o z_coord.o magfield.o gradflow.o correlation.o hb_trajectory.o

BINARY := build/su2_serial

FILES := $(OBJECTS) $(BINARY)

all: su2

su2: $(OBJECTS)
	$(CC) $(CFLAGS) $(OBJECTS) $(LIBS) -o $(BINARY)

clean:
	rm $(OBJECTS)
