# non-parallel makefile

CC := gcc -O3

CFLAGS := -D NHIGGS=1 -D SINGLET

LIBS := -lm

OBJECTS := src/main.o src/generic/mersenne.o src/layout.o src/comms.o src/alloc.o src/init.o src/parameters.o src/su2u1.o src/staples.o src/measure.o \
        src/update.o src/checkpoint.o src/metropolis.o src/heatbath.o src/overrelax.o src/multicanonical.o \
        src/blocking.o src/z_coord.o src/magfield.o src/gradflow.o src/correlation.o src/hb_trajectory.o

BINARY := build/su2_serial

FILES := $(OBJECTS) $(BINARY)

all: su2

su2: $(OBJECTS)
	$(CC) $(CFLAGS) $(OBJECTS) $(LIBS) -o $(BINARY)

clean:
	rm $(OBJECTS)
